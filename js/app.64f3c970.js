(function(t){function e(e){for(var n,i,s=e[0],o=e[1],d=e[2],h=0,u=[];h<s.length;h++)i=s[h],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(e);while(u.length)u.shift()();return c.push.apply(c,d||[]),a()}function a(){for(var t,e=0;e<c.length;e++){for(var a=c[e],n=!0,s=1;s<a.length;s++){var o=a[s];0!==r[o]&&(n=!1)}n&&(c.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},c=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var l=o;c.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("dac5"),a("6e26"),a("9604"),a("df67");var n=a("6e6d"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("datePicker",{ref:"datePicker",attrs:{mode:t.mode,BE:t.BE,selecteFuc:t.selecteFuc}}),a("div",{staticClass:"test"},[a("span",{on:{click:function(e){return t.change("start")}}},[t._v("选择去程")]),a("span",{on:{click:function(e){return t.change("end")}}},[t._v("选择返程")]),a("span",{on:{click:function(e){return t.change("range")}}},[t._v("往返选择")])])],1)},c=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calender",class:{"calendar-range":"range"==t.mode}},[a("div",{staticClass:"month-list"},t._l(t.dateData,(function(e){return a("div",{key:e.monthId,staticClass:"month",attrs:{id:e.monthId}},[a("h1",[t._v(t._s(e.title))]),a("div",{staticClass:"title"},t._l(t.weekArr,(function(e,n){return a("div",{key:e,class:{weekend:n>4}},[t._v(t._s(e))])})),0),t._l(e.month,(function(e,n){return a("div",{key:n,staticClass:"day-line"},t._l(e,(function(e){return a("div",{key:e.date,staticClass:"day",class:{hide:!e.text,disable:e.disable,festival:e.festival,today:"今天"===e.alias,selected:t.selectedTime===e.date,startend:t.checkStart===e.date||t.checkEnd===e.date,work:e.fillWork,relax:e.relax,range:"range"===t.mode&&0==t.twoClick&&t.compare(e.date)>t.compare(t.checkStart)&&t.compare(t.checkEnd)>t.compare(e.date),rangechecked:"range"===t.mode&&0==t.twoClick&&(t.checkStart===e.date||t.checkEnd===e.date),left:"range"===t.mode&&t.checkStart===e.date,right:"range"===t.mode&&t.checkEnd===e.date},attrs:{"data-text":e.tips,"data-date":e.date,"data-disabled":e.disable},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.clickHandler(e)}}},[a("div",{staticClass:"day-item",attrs:{"data-text":e.tips}},[a("p",[t._v(t._s(e.alias||e.text))]),t.checkStart===e.date?a("p",[t._v("start")]):t.checkEnd===e.date?a("p",[t._v("end")]):t._e()]),a("div",{staticClass:"day-bg"})])})),0)}))],2)})),0)])},s=[];a("1c74"),a("34a3"),a("fb37"),a("f763"),a("7c56");Date.prototype.addMonths=function(t){return this.setMonth(this.getMonth()+1*t),this},Date.prototype.firstDayOfMonth=function(){return this.setDate(1),this},Date.prototype.addDays=function(t){return this.setDate(this.getDate()+1*t),this},Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},a=[["日","一","二","三","四","五","六"],["周日","周一","周二","周三","周四","周五","周六"],["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]];return/(y+)/.test(t)&&(t=t.replace(RegExp.$1,"".concat(this.getFullYear()).substr(4-RegExp.$1.length))),/(w+)/.test(t)&&(t=t.replace(RegExp.$1,a[RegExp.$1.length-1][this.getDay()])),Object.keys(e).forEach((function(a){new RegExp("(".concat(a,")")).test(t)&&(t=t.replace(RegExp.$1,"00".concat(e[a]).substr("".concat(e[a]).length)))})),t};var o={"2019-02-04":"除夕","2019-02-05":"春节","2019-02-19":"元宵","2019-04-05":"清明","2019-06-07":"端午","2019-08-07":"七夕","2019-09-13":"中秋","2019-10-07":"重阳","2020-01-24":"除夕","2020-01-25":"春节","2020-02-08":"元宵","2020-04-04":"清明","2020-06-25":"端午","2020-08-25":"七夕","2020-10-01":"中秋","2020-10-25":"重阳"},d=["2019-01-01","2019-02-04","2019-02-05","2019-02-06","2019-02-07","2019-02-08","2019-02-09","2019-02-10","2019-04-05","2019-04-06","2019-04-07","2019-05-01","2019-06-07","2019-06-08","2019-06-09","2019-09-13","2019-09-14","2019-09-15","2019-10-01","2019-10-02","2019-10-03","2019-10-04","2019-10-05","2019-10-06","2019-10-07"],l=["2018-02-11","2018-02-24","2018-04-08","2018-04-28","2018-09-29","2018-09-30","2018-12-29","2019-02-02","2019-02-03","2019-09-29","2019-10-12"];function h(t){return-1!==d.indexOf(t)}function u(t){return-1!==l.indexOf(t)}function f(t){var e=t.getMonth()+1,a=t.getDate(),n=t.format("yyyy-MM-dd"),r=o[n];return r||(r=1===e&&1===a?"元旦":2===e&&14===a?"情人节":5===e&&1===a?"五一":6===e&&1===a?"儿童节":10===e&&1===a?"国庆节":12===e&&25===a&&"圣诞节",r)}function p(t){var e=Date.today(),a=Date.today().addDays(1),n="";return t.getTime()===e.getTime()?n="今天":t.getTime()===a.getTime()&&(n="明天"),n}function g(t){return new Date(t)}Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.today=function(){return(new Date).clearTime()};var y={name:"calender",props:{selecteFuc:{type:Function},startDate:{type:String,default:(new Date).clearTime().format("yyyy/MM/dd")},endDate:{type:String,default:(new Date).addMonths(12).format("yyyy/MM/dd")},BE:{type:Array,default:function(){return[]}},mode:{type:String,default:"start"}},data:function(){var t,e,a;switch(this.BE.length&&(t=this.transfer(this.BE[0]),e=this.BE[1]&&this.transfer(this.BE[1])),this.mode){case"start":case"range":a=t;break;case"end":a=e;break}return{calendarData:null,weekArr:["周一","周二","周三","周四","周五","周六","周日"],selected:a||(new Date).format("yyyy/MM/dd"),checkStart:t,checkEnd:e&&e,twoClick:0,compare:g}},computed:{selectedTime:function(){return new Date(this.selected).format("yyyy/MM/dd")}},methods:{transfer:function(t){return new Date(t.replace(/-/g,"/")).format("yyyy/MM/dd")},buildMonthDate:function(t){var e=[],a=t.getMonth(),n=new Date(t),r=0===t.getDay()?6:t.getDay()-1,c=new Array(r).fill("");while(n.getMonth()===a){var i={};7===c.length&&(e.push(c),c=[]),i={text:n.getDate(),dateTime:n.getTime(),date:n.format("yyyy/MM/dd"),tips:""},(n<this.startDate||n>this.endDate)&&(i.disable=!0),"end"===this.mode&&new Date(n)<new Date(this.checkStart)&&(i.disable=!0);var s=f(n);s&&(i.festival=s,i.text=s),h(i.date)?(i.relax=!0,i.tips="休"):u(i.date)&&(i.fillWork=!0,i.tips="班");var o=p(n);o&&(i.alias=o,i.festival=""),c.push(i),n.addDays(1)}if(c.length){for(var d=c.length;d<7;d++)c.push("");e.push(c),c=null}return{month:e,title:"".concat(t.getFullYear(),"年").concat(t.getMonth()+1,"月"),monthId:"".concat(t.getFullYear()).concat(t.getMonth()+1)}},buildData:function(){var t=g(this.startDate),e=g(this.endDate),a=[];while(t<=e){var n=this.buildMonthDate(t.firstDayOfMonth());a.push(n),t.addMonths(1)}return a},clickHandler:function(t){if(!t.currentTarget.dataset.disabled){var e=t.currentTarget.dataset.date,a={start:"clickHandlerStart",end:"clickHandlerEnd",range:"clickHandlerRange"};this.selected=new Date(e);var n=this[a[this.mode]](e);n&&this.selecteFuc&&this.selecteFuc({date:e,BE:n})}},clickHandlerStart:function(t){return this.checkStart=t,g(t)>=g(this.checkEnd)&&(this.checkEnd=""),alert("选择开始时间为".concat(t,"，结束时间为").concat(this.checkEnd||"--")),[t,this.checkEnd]},clickHandlerEnd:function(t){return this.checkEnd=t,alert("选择开始时间为".concat(this.checkStart||"--","，结束时间为").concat(t||"--")),[this.checkStart,t]},clickHandlerRange:function(t){return this.twoClick?g(t)<g(this.checkStart)?(this.twoClick=0,this.checkStart=t):this.checkEnd=t:(this.checkStart=t,this.checkEnd=""),++this.twoClick,1!==this.twoClick&&(this.twoClick=0,alert("选择开始时间为".concat(this.checkStart||"--","，结束时间为").concat(this.checkEnd||"--")),[this.checkStart,this.checkEnd])},refresh:function(){var t,e,a;switch(this.BE.length&&(t=this.transfer(this.BE[0]),e=this.BE[1]&&this.transfer(this.BE[1])),this.mode){case"start":case"range":a=t;break;case"end":a=e;break}this.checkStart=t,this.checkEnd=e,this.selected=a,this.dateData=this.buildData()}},created:function(){this.dateData=this.buildData()},mounted:function(){var t=this;setTimeout((function(){var e=new Date(t.selected),a=document.getElementById("".concat(e.getFullYear()).concat(e.getMonth()+1));a&&a.scrollIntoView()}),0)}},k=y,m=(a("bdf9"),a("6691")),v=Object(m["a"])(k,i,s,!1,null,"08af054b",null),D=v.exports,b={name:"app",data:function(){return{BE:["2019-9-12","2019-9-15"],mode:"range"}},methods:{selecteFuc:function(t){console.log(t)},change:function(t){var e=this;this.mode=t,this.$nextTick((function(){e.$refs.datePicker.refresh()}))}},components:{datePicker:D}},w=b,E=(a("b932"),Object(m["a"])(w,r,c,!1,null,"baf7db1a",null)),M=E.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(M)}}).$mount("#app")},"7d06":function(t,e,a){},b932:function(t,e,a){"use strict";var n=a("e0ea"),r=a.n(n);r.a},bdf9:function(t,e,a){"use strict";var n=a("7d06"),r=a.n(n);r.a},e0ea:function(t,e,a){}});
//# sourceMappingURL=app.64f3c970.js.map